<!DOCTYPE html>
<html class="support-page">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>SKIP THE COURIER</title>
    <link href="css/bootstrap.min.css" rel="stylesheet" />
    <link rel="icon" href="navbar.png" type="image/x-icon" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
      crossorigin="anonymous"
    ></script>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css"
    />
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="constants.css" />
  </head>

  <body>
    <div class="support-page">
      <div id="header"></div>
      <div class="container my-5">
        <div class="support-faq">
          <h1 class="mb-4 text-center">Support</h1>

          <h2>Frequently Asked Questions</h2>
          <div class="accordion" id="accordionExample">
            <div class="accordion-item">
              <h2 class="accordion-header" id="headingOne">
                <button
                  class="accordion-button"
                  type="button"
                  data-bs-toggle="collapse"
                  data-bs-target="#collapseOne"
                  aria-expanded="true"
                  aria-controls="collapseOne"
                >
                  How do I track my shipment?
                </button>
              </h2>
              <div
                id="collapseOne"
                class="accordion-collapse collapse show"
                aria-labelledby="headingOne"
                data-bs-parent="#accordionExample"
              >
                <div class="accordion-body">
                  <p>To track your shipment, you can follow these steps:</p>
                  <ol>
                    <li>Log in to your account on our website.</li>
                    <li>Navigate to the 'Track Shipment' page.</li>
                    <li>Enter your tracking number and click on 'Track'.</li>
                  </ol>
                </div>
              </div>
            </div>
            <div class="accordion-item">
              <h2 class="accordion-header" id="headingTwo">
                <button
                  class="accordion-button collapsed"
                  type="button"
                  data-bs-toggle="collapse"
                  data-bs-target="#collapseTwo"
                  aria-expanded="false"
                  aria-controls="collapseTwo"
                >
                  What are the different services offered by Courier Service?
                </button>
              </h2>
              <div
                id="collapseTwo"
                class="accordion-collapse collapse"
                aria-labelledby="headingTwo"
                data-bs-parent="#accordionExample"
              >
                <div class="accordion-body">
                  <p>Courier Service offers various services such as:</p>
                  <ul>
                    <li>International Courier Services</li>
                    <li>Document Delivery</li>
                    <li>Express Mail Delivery</li>
                    <li>Same Day Delivery</li>
                  </ul>
                </div>
              </div>
            </div>
            <div class="accordion-item">
              <h2 class="accordion-header" id="headingTwo">
                <button
                  class="accordion-button collapsed"
                  type="button"
                  data-bs-toggle="collapse"
                  data-bs-target="#collapseThree"
                  aria-expanded="false"
                  aria-controls="collapseThree"
                >
                  Can you leave my package for me when I am not at my address?
                </button>
              </h2>
              <div
                id="collapseThree"
                class="accordion-collapse collapse"
                aria-labelledby="headingThree"
                data-bs-parent="#accordionExample"
              >
                <div class="accordion-body">
                  <p>
                    If the individual who has shipped the package to you
                    requested that FedEx obtain a signature from someone at the
                    delivery address, then we cannot release the package without
                    anyone present.
                  </p>
                </div>
              </div>
            </div>
            <div class="accordion-item">
              <h2 class="accordion-header" id="headingTwo">
                <button
                  class="accordion-button collapsed"
                  type="button"
                  data-bs-toggle="collapse"
                  data-bs-target="#collapsefour"
                  aria-expanded="false"
                  aria-controls="collapsefour"
                >
                  Can I get proof of delivery after a package has been
                  delivered?
                </button>
              </h2>
              <div
                id="collapsefour"
                class="accordion-collapse collapse"
                aria-labelledby="headingfour"
                data-bs-parent="#accordionExample"
              >
                <div class="accordion-body">
                  <p>
                    Yes. To confirm a Skip the Courier shipment has been
                    received and signed for, you can track the package to access
                    proof of delivery: Proof of Delivery: All you need to do is
                    track a package to get visual confirmation of your
                    deliveries if an image is available.
                  </p>
                </div>
              </div>
            </div>
            <div class="accordion-item">
              <h2 class="accordion-header" id="headingFive">
                <button
                  class="accordion-button collapsed"
                  type="button"
                  data-bs-toggle="collapse"
                  data-bs-target="#collapseFive"
                  aria-expanded="false"
                  aria-controls="collapseFive"
                >
                  Can someone else pick up my package for me?
                </button>
              </h2>
              <div
                id="collapseFive"
                class="accordion-collapse collapse"
                aria-labelledby="headingFive"
                data-bs-parent="#accordionExample"
              >
                <div class="accordion-body">
                  <p>
                    Anyone with the tracking number who lives at the recipient's
                    address can pick up the package on your behalf. They should
                    bring government-issued photo identification that matches
                    the recipient's address (mobile phone screenshots are not
                    accepted).
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="container">
        <div class="row">
          <div class="support-form">
            <div class="col-md-9 offset-md-0">
              <h1 class="text-center">Contact Us</h1>
              <div class="form-group">
                <label for="name">Name</label>
                <input
                  type="text"
                  class="form-control"
                  id="name"
                  name="name"
                  placeholder="Enter your name"
                />
              </div>
              <div class="form-group">
                <label for="order-number">Order Number</label>
                <input
                  type="text"
                  class="form-control"
                  id="order"
                  name="order"
                  placeholder="Enter Order Number"
                />
              </div>
              <div class="form-group">
                <label for="email">Email</label>
                <input
                  type="email"
                  class="form-control"
                  id="email"
                  name="email"
                  placeholder="Enter your email"
                />
              </div>
              <div class="form-group">
                <label for="message">Message</label>
                <textarea
                  class="form-control"
                  id="message"
                  name="message"
                  rows="3"
                  placeholder="Enter your message"
                ></textarea>
              </div>
              <div class="form-btn">
                <button type="submit" class="btn" id="submit-button">
                  Submit
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div id="footer"></div>
    <!--Bootstrap JS and jQuery-->

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
      $(function () {
        $("#header").load("index.html");
      });
    </script>
    <script>
      $(function () {
        $("#footer").load("footer.html");
      });
    </script>
    <script>
      function obtainCookie(name) {
        // Add the = sign
        name = name + "=";

        // Get the decoded cookie
        var decodedCookie = decodeURIComponent(document.cookie);

        // Get all cookies, split on ; sign
        var cookies = decodedCookie.split(";");

        // Loop over the cookies
        for (var i = 0; i < cookies.length; i++) {
          // Define the single cookie, and remove whitespace
          var cookie = cookies[i].trim();

          // If this cookie has the name of what we are searching
          if (cookie.indexOf(name) == 0) {
            // Return everything after the cookies name
            return cookie.substring(name.length, cookie.length);
          }
        }
      }

      document.getElementById("submit-button").addEventListener("click", () => {
        const tokenId = obtainCookie("tokenId");
        if (tokenId == null) {
          window.location.href = "Loginpage.html";
        } else {
          const name = document.getElementById("name").value;
          const order = document.getElementById("order").value;
          const email = document.getElementById("email").value;
          const message = document.getElementById("message").value;

          // call contact form backend
          const url = "http://localhost:8080/contactForm";

          const contactJson = {
            // TODO: get values from form
            name: name,
            order: order,
            email: email,
            message: message,
          };
          
          var params = {
            method: "POST",
            headers: {
              "Content-Type": "application/json",
            },
            body: JSON.stringify({
              idToken: tokenId,
              contactJson: contactJson,
            }),
          };
          fetch(url, params)
            .then((response) => {
              if (response.ok) {
                response.json().then((res) => {
                  // Redirect to payment page
                  alert("Message sent!");
                });
              } else {
                response.text().then((text) => {
                  alert(text);
                });
              }
            })
            .catch((error) => {
              // Handle errors here
              alert(error);
              console.error("Error:", error);
            });
        }
      });
    </script>
  </body>
</html>
